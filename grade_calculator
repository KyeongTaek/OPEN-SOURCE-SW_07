#include <stdio.h>
#define CRT_SECURE_NO_WARNINGS
#pragma warning(disable:4996)

void grade_cal();
float GPAsum(int grade, int times, float sum);
int timesum(int tiems, int sum2);

int main() {

	int a;
	printf("학점계산기 : 1\n");
	printf("사용하실 기능의 숫자를 입력하시오 : ");
	scanf_s("%d", &a);
	if (a == 1) grade_cal();
	else printf("제공되지 않는 기능입니다.");
}

void grade_cal() {
	char name[20][15];
	int grade[20] = { 0, };
	int times[20] = { 0, };
	int i = 0;
	int count = 0;
	int major[20];
	float GPA = 0;
	float sum = 0;
	int sum2 = 0;
	char arr[20];
	printf("학점계산기입니다.\n입력을 모두 하였을경우 1을 입력하여 주십시오.\n");
	printf("종료 ㅡ> 입력 1\n");
	while (1)
	{
		printf("과목명을 입력하여 주십시오 : ");
		scanf("%s", name[i]);
		if (name[i][0] == '1') break;
		printf("평점을 선택하여 주십시오\n");
		printf("1. A+\n2. A0\n3. B+\n4. B0\n5. C+\n6. C0\n7. D+\n8. D0\n9. F\n");
		printf("해당하는 숫자를 입력하시오 : ");
		scanf("%d", &grade[i]);
		/*if (grade[i] == 1) arr[i] = 'A+';
		else if(grade[i] == 2) arr[i] = 'A0';
		else if (grade[i] == 3) arr[i] = 'B+';
		else if (grade[i] == 4) arr[i] = 'B0';
		else if (grade[i] == 5) arr[i] = 'C+';
		else if (grade[i] == 6) arr[i] = 'C0';
		else if (grade[i] == 7) arr[i] = 'D+';
		else if (grade[i] == 8) arr[i] = 'D0';
		else if (grade[i] == 9) arr[i] = 'F';*/
		printf("과목의 학점을 입력하시오 : ");
		scanf("%d", &times[i]);
		/*printf("전공과목일 경우 1 아닐경우 2를 입력하여 주십시오");
		scanf("%d", &major[i]);*/
		sum = GPAsum(grade[i], times[i], sum);
		sum2 = timesum(times[i], sum2);
		i++;
		count++;
	}
	printf("\n입력받은 정보 출력\n");
	for (int i = 0; i < count; i++)
	{
		printf("과목명 : %s\n", name[i]);
		printf("%d\n%d\n", grade[i], times[i]);
	}
	printf("평점의 합 : %.2f", sum);
	printf("\n학점의 합 : %d", sum2);
	printf("\nGPA : %.2f", (float)sum/sum2);
}



float GPAsum(int grade, int times, float sum) {
	float a;

	switch (grade) {

	case 1:
		a = 4.5;
		break;
	case 2:
		a = 4.0;
		break;
	case 3:
		a = 3.5;
		break;
	case 4:
		a = 3.0;
		break;
	case 5:
		a = 2.5;
		break;
	case 6:
		a = 2.0;
		break;
	case 7:
		a = 1.5;
		break;
	case 8:
		a = 1.0;
		break;
	case 9:
		a = 0;
		break;
	}

	float k = a * times;
	sum = sum + k;

	return sum;
}

int timesum(int times, int sum2) {

	sum2 = sum2 + times;

	return sum2;
}
